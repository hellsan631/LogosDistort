!function(t,e){function i(t,e){if(!t)throw new Error("No element provided.");this.options=e,this.elements=t;var i=this;this.elements[0]?(this.elements=[].slice.call(this.elements),this.elements.forEach(function(t){t.distort=new n(t,i.options)})):this.elements.distort=new n(t,i.options)}function n(e,i){this._name="logosDistort",this.options={enable:!0,effectWeight:1,enableSmoothing:!0,smoothingMultiplier:1,activeOnlyInside:!1,outerBuffer:1.1,elementDepth:140,perspectiveMulti:1,directions:[1,1,1,1,-1,-1,1,1],weights:[31e-6,18e-5,164e-7,19e-7,12e-5],container:t,depthOverride:!1,mouseMode:"container",cssClasses:{smartContainer:"ld-smart-container",overlapContainer:"ld-overlap-container",parent3d:"ld-3d-parent",transformTarget:"ld-transform-target",active:"ld-transform-active",object3d:"ld-3d-object"},beforeInit:function(){},onInit:function(){},onDestroy:function(){}},this.options.extend(i),this.element=e,this.eventCache=[],"self"===this.options.container?(this.containerOverride=!0,this.options.container=this.element):this.containerOverride=!1,this.container=this.options.container,this.container.offsetWidth||(this.container.offsetWidth=this.container.innerWidth),this.container.offsetHeight||(this.container.offsetHeight=this.container.innerHeight),this.rect=this.element.getBoundingClientRect(),this.width=this.rect.width,this.height=this.rect.height,this.center=this.getCenterOfContainer(),this.outerCon=null,this.outerConParent=null,this.transformTarget=null,this.objects3d=null,this.mouseX=this.mouseY=0,this.effectX=this.effectY=0,this.has3dSupport=this._has3d(),this.paused=!1,this.options.beforeInit(this),this.init()}n.prototype.init=function(){function t(){o.visable=o._isElementInViewport()}function i(t){o.mouseX=t.x,o.mouseY=t.y}function n(t){o.mouseX=t.x,o.mouseY=t.y,e.removeEventListener("mouseenter",n,!1)}var o=this;e.addEventListener("mouseenter",n,!1),this.createEnvironment(),this.options.onInit(),"container"===this.options.mouseMode?this._addEvent(this.container,"mousemove",i):"window"===this.options.mouseMode?this._addEvent(window,"mousemove",i):"magnetic"===this.options.mouseMode&&this._addEvent(window,"mousemove",function(t){var e=Math.abs(t.x-o.center.x),i=Math.abs(t.y-o.center.y);(i<o.height/2||e<o.width/2)&&(o.mouseX=t.x,o.mouseY=t.y)}),this._addEvent(window,"resize",function(){o.resizeHandler()}),t(),window.addEventListener?(addEventListener("DOMContentLoaded",t,!1),addEventListener("load",t,!1),addEventListener("scroll",t,!1),addEventListener("resize",t,!1)):window.attachEvent&&(attachEvent("onDOMContentLoaded",t),attachEvent("onload",t),attachEvent("onscroll",t),attachEvent("onresize",t)),this.start()},n.prototype.start=function(){var t=this;this.paused=!1,this.has3dSupport&&(this.drawInterval=setInterval(function(){t.draw()},16))},n.prototype.stop=function(){this.paused=!0,clearInterval(this.drawInterval)},n.prototype.draw=function(){this.visable&&this.effectX!==this.mouseX&&this.effectY!==this.mouseY&&(this.options.enableSmoothing?(this.effectX+=(this.mouseX-this.effectX)/(20*this.options.smoothingMultiplier),this.effectY+=(this.mouseY-this.effectY)/(20*this.options.smoothingMultiplier)):(this.effectX=this.mouseX,this.effectY=this.mouseY),this.paused||this.changePerspective(this.transformTarget,this.effectX,this.effectY))},n.prototype.changePerspective=function(t,e,i){var n=this;requestAnimationFrame(function(){t.setAttribute("style",n.generateTransformString(e,i))})},n.prototype.generateTransformString=function(t,e){var i=this.calculateTransform(t,e),n="transform: matrix3d("+i[0]+", 0, "+i[1]+", 0, "+i[2]+", "+i[3]+", "+i[4]+", 0, "+i[5]+", "+i[6]+", "+i[7]+", 0, 0, 0, 100, 1)";return n},n.prototype.calculateTransform=function(t,e){var i=[],n=this.options.directions,o=this.getDistanceFromCenter(t,e),s=this.getDistanceFromCenterX(e),r=this.getDistanceFromCenterY(t),a=this.getDistanceFromEdgeCenterAndCenter(o,s,r);return i.push(n[0]*(1-this.applyTransform(o,0)*this.options.effectWeight)),i.push(n[1]*(this.applyTransform(r,1)*this.options.effectWeight)),i.push(n[2]*(this.applyTransform(a,2)*this.options.effectWeight)),i.push(n[3]*(1-this.applyTransform(o,3)*this.options.effectWeight)),i.push(n[4]*(this.applyTransform(s,4)*this.options.effectWeight)),i.push(n[5]*i[1]),i.push(n[6]*i[4]),i.push(n[7]*Math.abs(i[3])),i.forEach(function(t,e){i[e]=t.toFixed(5)}),i},n.prototype.applyTransform=function(t,e){return t*this.options.weights[e]},n.prototype.getDistanceFromCenter=function(t,e){return this.getDistance2d(t,e,this.center.x,this.center.y)},n.prototype.getDistanceFromCenterY=function(t){return t-this.center.x/2},n.prototype.getDistanceFromCenterX=function(t){return t-this.center.y/2},n.prototype.getDistanceFromEdgeCenterAndCenter=function(t,e,i){return-(t/100*(e/50)*(i/50))},n.prototype.getDistance2d=function(t,e,i,n){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-n,2))},n.prototype.createEnvironment=function(){var t=e.createDocumentFragment(),i=this;this.objects3d=this.element.children,this.objects3d=[].slice.call(this.objects3d),this.element.innerHTML="",this.objects3d.forEach(function(t){t.classList.add(i.options.cssClasses.object3d)}),this.outerConParent=e.createElement("div"),this.outerCon=e.createElement("div"),this.parent3d=e.createElement("div"),this.transformTarget=e.createElement("div"),this.objects3d.forEach(function(t){i.transformTarget.appendChild(t)}),this.parent3d.appendChild(this.transformTarget),this.outerCon.appendChild(this.parent3d),this.outerConParent.appendChild(this.outerCon),t.appendChild(this.outerConParent),this.outerConParent.classList.add(this.options.cssClasses.smartContainer),this.outerCon.classList.add(this.options.cssClasses.overlapContainer),this.parent3d.classList.add(this.options.cssClasses.parent3d);var n=9e3*this.options.perspectiveMulti;this.parent3d.setAttribute("style","perspective: "+n+"px;"),this.transformTarget.classList.add(this.options.cssClasses.transformTarget,this.options.cssClasses.active),this.element.appendChild(t),this.calculateOuterContainer(),this.calculate3dObjects()},n.prototype.calculateOuterContainer=function(){var t=this.outerConParent.offsetWidth*this.options.outerBuffer,e=this.outerConParent.offsetHeight*this.options.outerBuffer;this.outerCon.setAttribute("style","width:"+t.toFixed(2)+"px; height:"+e.toFixed(2)+"px; left: -"+((t-this.width)/2).toFixed(2)+"px; top: -"+((e-this.height)/2).toFixed(2)+"px;")},n.prototype.calculate3dObjects=function(){var t=this;this.objects3d.forEach(function(e){t.setImageDefaults(e)})},n.prototype.setImageDefaults=function(t){var i=this;"img"===t.tagName.toLowerCase()?(e.addEventListener("DOMContentLoaded",function(){return i.calculatePerspective(t)},!1),t.complete&&i.calculatePerspective(t)):i.calculatePerspective(t)},n.prototype.calculatePerspective=function(t){var e,i=Array.prototype.indexOf.call(t.parentNode.childNodes,t);this.objects3d.length>4&&!this.options.depthOverride&&(i-=this.objects3d.length/2);var n=i*this.options.elementDepth,o=this.getAspectRatio(),s=this.getAspectRatio(t);e=isNaN(s[0])||"div"===t.tagName.toLowerCase()?o:s;var r=(this.outerConParent.offsetHeight*this.options.outerBuffer).toFixed(2),a=(r*e[0]).toFixed(2);a<this.width*this.options.outerBuffer&&(difference=this.width/a,a=(a*difference*this.options.outerBuffer).toFixed(2),r=(r*difference*this.options.outerBuffer).toFixed(2));var h=-((a-this.width)/2).toFixed(2),c=-((r-this.height)/2).toFixed(2);t.setAttribute("style","transform: translate3d("+h+"px, "+c+"px, "+n+"px);width: "+a+"px; height: "+r+"px; z-index: "+(i+1)+";")},n.prototype.getCenterOfContainer=function(){return{x:this.rect.left+this.width/2,y:this.rect.top+this.height/2}},n.prototype.getAspectRatio=function(t){t||(t=this.options.container);var e=t.getBoundingClientRect();return[e.width/e.height,e.height/e.width]},n.prototype.getDistance2d=function(t,e,i,n){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-n,2))},n.prototype.resizeHandler=function(){this.rect=this.element.getBoundingClientRect(),this.width=this.rect.width,this.height=this.rect.height,this.center=this.getCenterOfContainer(),this.calculateOuterContainer(),this.calculate3dObjects()},n.prototype._has3d=function(){var t,e,i=document.createElement("p"),n={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(i,document.body.lastChild);for(e in n)void 0!==i.style[e]&&(i.style[e]="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)",t=window.getComputedStyle(i).getPropertyValue(n[e]));return i.parentNode.removeChild(i),void 0!==t?"none"!==t:!1},n.prototype._isElementInViewport=function(){return this.rect.bottom>=0&&this.rect.right>=0&&this.rect.top<=window.innerHeight&&this.rect.left<=window.innerWidth},n.prototype._addEvent=function(t,e,i){window.addEventListener?t.addEventListener(e,i,!1):window.attachEvent&&t.attachEvent(e,i),this.eventCache.push({element:t,type:e,fn:i})},n.prototype.clearEvents=function(){this.eventCache.forEach(function(t){window.addEventListener?t.element.removeEventListener(t.type,t.fn,!1):window.attachEvent&&t.element.detachEvent(t.type,t.fn)})},n.prototype.destroy=function(){this.clearEvents(),this.element.parentNode.removeChild(this.element),this.hook("onDestroy"),this.element.removeData&&this.element.removeData("plugin_"+this._name)},n.prototype.hook=function(t){this.options[t]&&this.options[t].call(this.element)},Object.prototype.extend=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},t.logosDistort=i,jQuery&&jQuery.fn&&(jQuery.fn.logosDistort=function(t){return this.each(function(){jQuery.data(this,"plugin_logosDistort")||jQuery.data(this,"plugin_logosDistort",new i(this,t))})})}(window,document),function(){for(var t=0,e=["webkit","moz"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),o=Math.max(0,16-(n-t)),s=window.setTimeout(function(){e(n+o)},o);return t=n+o,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();